(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var a=n(1),l=n(2),c=n.n(l),s=n(41),i=n.n(s),r=(n(111),n(10)),o=n(11),d=n(14),h=n(13),j=(n(112),n(33)),b=n(27),u=n(22),m=n(99),p=n.n(m).a.create({baseURL:"http://localhost:8080/",headers:{"Content-type":"application/json"}}),O=new(function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"getAll",value:function(){return p.get("/clients/all")}},{key:"getClient",value:function(e){return p.get("/clients/".concat(e))}},{key:"postClient",value:function(e){return p.post("/clients/add",e)}},{key:"updateClient",value:function(e,t){return p.put("/clients/update/".concat(e),t)}},{key:"deleteClient",value:function(e){return p.delete("/clients/delete/".concat(e))}},{key:"deleteClients",value:function(){return p.delete("/clients/deleteAll")}},{key:"sendEmail",value:function(e){return p.post("/clients/sendmail/".concat(e))}},{key:"makeAppointment",value:function(e,t){return p.post("/clients/makeAppointment/"+e,t)}},{key:"getAppointmentsForDate",value:function(e){return p.get("/clients/getAppointmentsForDate/".concat(e))}}]),e}()),f=n(100),g=n.n(f),x=n(37),v=n.n(x),N=n(101),C=n.n(N),y=function(e){if(!e)return Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},k=function(e){if(!C.a.isEmail(e))return"".concat(e," is not a valid email.")},F=function(e){if(e.length<3||e.length>20)return Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The name must be between 3 and 20 characters."})},w=function(e){if(e.length<3||e.length>8)return Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The license plate must be between 3 and 8 characters."})},S=function(e){if(e.length<6||e.length>40)return Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},A=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState((function(t){return{currentClient:Object(b.a)(Object(b.a)({},t.currentClient),{},Object(j.a)({},e.target.id,e.target.value))}}))},a.addClient=function(){var e={firstName:a.state.currentClient.firstName,lastName:a.state.currentClient.lastName,email:a.state.currentClient.email,licensePlate:a.state.currentClient.licensePlate,phoneNumber:a.state.currentClient.phoneNumber};void 0!==a.state.currentClient.firstName&&void 0!==a.state.currentClient.lastName&&void 0!==a.state.currentClient.email&&void 0!==a.state.currentClient.licensePlate&&void 0!==a.state.currentClient.phoneNumber?O.postClient(e).then((function(e){a.setState({currentClient:{firstName:e.data.firstName,lastName:e.data.lastName,email:e.data.email,licensePlate:e.data.licensePlate,phoneNumber:e.data.phoneNumber},message:"Client Added!"}),console.log(e.data)})).then((function(){a.props.history.push("/clients")})).catch((function(e){console.log(e)})):alert("there is an invalid data input")},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.addClient=a.addClient.bind(Object(u.a)(a)),a.state={currentClient:{firstName:"",lastName:"",email:"",licensePlate:"",phoneNumber:""},message:""},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{className:"h3",children:[Object(a.jsx)("h1",{id:"title",children:"Register Client"}),Object(a.jsx)("hr",{style:{backgroundColor:"#6aa5b3"}}),Object(a.jsx)("br",{}),Object(a.jsx)("center",{children:Object(a.jsx)("div",{className:"col-12 col-lg-4 mt-2 hv-center",children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)(v.a,{onChange:this.handleChange,className:"form-control",id:"firstName",placeholder:"First Name",validations:[y,F]})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)(v.a,{onChange:this.handleChange,className:"form-control",id:"lastName",placeholder:"Last Name",validations:[y,F]})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)(v.a,{onChange:this.handleChange,className:"form-control",id:"licensePlate",placeholder:"License Plate",validations:[y,w]})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)(v.a,{onChange:this.handleChange,type:"tel",className:"form-control",id:"phoneNumber",placeholder:"Phone Number",validations:[y,S]})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)(v.a,{onChange:this.handleChange,type:"email",className:"form-control",id:"email",placeholder:"Email",validations:[y,k]})}),Object(a.jsx)("a",{onClick:this.addClient,className:"btn btn-info",role:"button",style:{backgroundColor:"#ff6a00"},children:"Register Client"}),Object(a.jsx)("br",{})]})})})]}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:this.state.message})]})}}]),n}(l.Component),D=n(17),P=new(function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"upload",value:function(e,t){var n=new FormData;return n.append("file",e),p.post("/upload",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return p.get("/files")}}]),e}()),M=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).selectFile=function(e){a.setState({selectedFiles:e.target.files})},a.upload=function(){var e=a.state.selectedFiles[0];a.setState({progress:0,currentFile:e}),P.upload(e,(function(e){a.setState({progress:Math.round(100*e.loaded/e.total)})})).then((function(e){return a.setState({message:e.data.message}),console.log(e.data.message),P.getFiles()})).then((function(e){a.setState({fileInfos:e.data})})).catch((function(){a.setState({progress:0,message:"Could not upload the file!",currentFile:void 0})})),a.setState({selectedFiles:void 0})},a.state={selectedFiles:void 0,currentFile:void 0,progress:0,message:"",fileInfos:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;P.getFiles().then((function(t){e.setState({fileInfos:t.data})}))}},{key:"render",value:function(){var e=this.state,t=e.selectedFiles,n=e.currentFile,l=e.progress,c=e.message;e.fileInfos;return Object(a.jsxs)("div",{children:[n&&Object(a.jsx)("div",{className:"progress",children:Object(a.jsxs)("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100",style:{width:l+"%",backgroundColor:"#ff6a00"},children:[l,"%"]})}),Object(a.jsx)("form",{class:"md-form",children:Object(a.jsx)("label",{className:"btn btn-default",children:Object(a.jsx)("input",{id:"selectFile",type:"file",onChange:this.selectFile})})}),Object(a.jsx)("div",{id:"upload",children:Object(a.jsx)("button",{className:"btn",style:{backgroundColor:"#ff6a00",color:"#FFF"},disabled:!t,onClick:this.upload,children:"Upload"})}),Object(a.jsx)("div",{className:"alert alert-light",role:"alert",children:c})]})}}]),n}(l.Component),Y=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("nav",{className:"navbar navbar-expand-sm navbar navbar-light bg-white",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("a",{className:"navbar-brand",href:"/registerClient",children:Object(a.jsx)("img",{className:"imglogo",src:"images/sioux.png",alt:""})}),Object(a.jsx)("a",{className:"navbar-brand",href:"/registerClient",children:"Secretary App"}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"mobile-nav",children:[Object(a.jsx)("ul",{className:"navbar-nav ",children:Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(D.b,{id:"clients",to:"/clients",className:"nav-link",children:"Clients"})})}),Object(a.jsx)("ul",{className:"navbar-nav",children:Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(D.b,{to:"/registerClient",className:"nav-link",children:"Register Client"})})}),Object(a.jsx)("ul",{className:"navbar-nav",children:Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(D.b,{id:"uploadImage",to:"/uploadImage",className:"nav-link",children:"Upload"})})}),Object(a.jsx)("ul",{className:"navbar-nav",children:Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(D.b,{to:"/calendar",className:"nav-link",children:"Calendar"})})})]})]})}),Object(a.jsx)("hr",{style:{backgroundColor:"#6aa5b3",height:"4vh"}})]})}}]),n}(l.Component),H=n(9),I=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).deleteClient=function(e){window.confirm("Are you sure?")&&(O.deleteClient(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),a.retrieveClients(),window.location.reload(!1))},a.emailClient=function(e){O.sendEmail(e).then((function(e){alert(e.data)})).catch((function(e){alert("Error sending email, check if the email is correct"),console.log(e)}))},a.state={clients:[]},a.retrieveClients=a.retrieveClients.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.retrieveClients()}},{key:"retrieveClients",value:function(){var e=this;O.getAll().then((function(t){e.setState({clients:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(a.jsx)("center",{children:Object(a.jsxs)("table",{className:"zui-table zui-table-rounded",style:{width:"70%"},children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"tableHeader",children:"First Name"}),Object(a.jsx)("th",{className:"tableHeader",children:"Last Name"}),Object(a.jsx)("th",{className:"tableHeader",children:"License Plate"}),Object(a.jsx)("th",{className:"tableHeader",children:"Email"}),Object(a.jsx)("th",{className:"tableHeader",children:"Phone Number"}),Object(a.jsx)("th",{className:"tableHeader"}),Object(a.jsx)("th",{className:"tableHeader"}),Object(a.jsx)("th",{className:"tableHeader"})]})}),Object(a.jsx)("tbody",{children:this.state.clients.length>0?this.state.clients.map((function(t,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"tableCol",children:t.firstName}),Object(a.jsx)("td",{className:"tableCol",children:t.lastName}),Object(a.jsx)("td",{className:"tableCol",children:t.licensePlate}),Object(a.jsx)("td",{className:"tableCol",children:t.email}),Object(a.jsx)("td",{className:"tableCol",children:t.phoneNumber}),Object(a.jsx)("td",{className:"tableCol",children:Object(a.jsx)("center",{children:Object(a.jsx)("button",{className:"btn btn-info",children:Object(a.jsx)(D.b,{style:{color:"#FFFFFF"},to:"/createAppointment/"+t.id,children:"Make Appointment"})})})}),Object(a.jsx)("td",{className:"tableCol",children:Object(a.jsx)("center",{children:Object(a.jsx)("button",{className:"btn btn-warning",children:Object(a.jsx)(D.b,{style:{color:"#FFFFFF"},to:"/updateClient/"+t.id,children:"Update"})})})}),Object(a.jsx)("td",{className:"tableCol",children:Object(a.jsx)("center",{children:Object(a.jsx)("button",{onClick:function(){return e.deleteClient(t.id)},className:"btn btn-danger",children:"Delete"})})})]},n)})):Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:"5",children:"Loading..."})})})]})})}}]),n}(c.a.Component),T=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).getClient=function(e){O.getClient(e).then((function(e){a.setState({currentClient:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))},a.handleChange=function(e){var t=e.target.value,n=e.target.id;a.setState((function(e){return{currentClient:Object(b.a)(Object(b.a)({},e.currentClient),{},Object(j.a)({},n,t))}})),console.log(t+" "+n)},a.updateClient=function(){""!=a.state.currentClient.firstName||""!=a.state.currentClient.lastName||""!=a.state.currentClient.licencePlate||9==a.state.currentClient.phoneNumber.length?O.updateClient(a.state.currentClient.id,a.state.currentClient).then((function(e){console.log(e.data),a.setState({alert:"The client was updated successfully!"})})).then((function(){a.props.history.push("/clients")})).catch((function(e){console.log(e)})):alert("The input you gave is inorrect")},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.getClient=a.getClient.bind(Object(u.a)(a)),a.updateClient=a.updateClient.bind(Object(u.a)(a)),a.state={currentClient:{id:null,firstName:"",lastName:"",email:"",licencePlate:"",phoneNumber:""},message:""},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.getClient(this.props.match.params.id),this.setState((function(t){return{currentClient:Object(b.a)(Object(b.a)({},t.currentClient),{},{id:e.props.match.params.id})}}))}},{key:"render",value:function(){var e=this.state.currentClient;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{className:"h3",children:[Object(a.jsx)("h1",{children:"Update Client"}),Object(a.jsx)("hr",{}),Object(a.jsx)("br",{}),Object(a.jsx)("center",{children:Object(a.jsx)("div",{className:"col-12 col-lg-4 mt-2 hv-center",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)("input",{className:"form-control",type:"text",placeholder:"First Name",id:"firstName",value:e.firstName,onChange:this.handleChange})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)("input",{className:"form-control",type:"text",placeholder:"Last Name",id:"lastName",value:e.lastName,onChange:this.handleChange})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)("input",{className:"form-control",type:"text",placeholder:"License Plate",id:"licensePlate",value:e.licensePlate,onChange:this.handleChange})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)("input",{className:"form-control",type:"text",placeholder:"Phone Number",id:"phoneNumber",value:e.phoneNumber,onChange:this.handleChange})}),Object(a.jsx)("div",{className:"form-group text-left",children:Object(a.jsx)("input",{className:"form-control",type:"text",placeholder:"Email",id:"email",value:e.email,onChange:this.handleChange})}),Object(a.jsx)(D.b,{to:"/clients",className:"btn btn-danger",children:"Cancel"}),Object(a.jsx)("a",{onClick:this.updateClient,className:"btn btn-warning",role:"button",children:"Update Client"}),Object(a.jsx)("br",{})]})})})]}),Object(a.jsx)("p",{children:this.state.message})]})}}]),n}(l.Component),L=n(66),E=n.n(L),U=(n(216),n(30)),B=n.n(U),R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={currentClient:void 0,date:B()().format("DD-MM-YYYY"),time:"10:00"},e.getClient=function(t){O.getClient(t).then((function(t){e.setState({currentClient:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))},e.handleChange=function(t){console.log(e.state),console.log(t);var n=B()(t).format("DD-MM-YYYY");e.setState({date:n})},e.handleTime=function(t){console.log(t);var n=B()(t).format("HH:mm");e.setState({time:n})},e.handleSubmit=function(){var t=e.state.date,n=e.state.time,a=e.state.currentClient.id,l={date:t,time:n};O.makeAppointment(a,l).then((function(t){console.log(t),e.props.history.push("/clients")}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getClient(this.props.match.params.id)}},{key:"render",value:function(){return console.log(this.state),Object(a.jsx)("div",{className:"createAppointmentHello",children:this.state.currentClient?Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Hello"}),Object(a.jsxs)("div",{children:["create an appointment for ",this.state.currentClient.firstName," ",this.state.currentClient.lastName]}),Object(a.jsx)("br",{}),Object(a.jsx)("table",{className:"centerTable",children:Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsxs)("label",{className:"labelAppointment",children:[" ",Object(a.jsx)("h6",{className:"margin3",children:"select a date"}),Object(a.jsx)(E.a,{id:"date",autoFocus:!0,value:this.state.date,onChange:this.handleChange})]})})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"col-12 createAppointmentDivforInput",children:Object(a.jsxs)("label",{className:"labelAppointment",children:[" ",Object(a.jsx)("h6",{className:"margin3",children:" select a time"}),Object(a.jsx)(E.a,{showTimeSelect:!0,showTimeSelectOnly:!0,value:this.state.time,dateFormat:"HH:mm",timeIntervals:30,onChange:this.handleTime})]})})})]})})}),Object(a.jsx)("div",{className:"divButtonAppointment",children:Object(a.jsx)("button",{className:"btn btn-primary btn-lg buttonAppointment",onClick:this.handleSubmit,children:"Make Appointment"})})]}):Object(a.jsx)("h3",{children:" ... waiting for client to load"})})}}]),n}(l.Component),z=n(105),J=(n(278),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={date:B()().format("DD-MM-YYYY"),appointments:void 0,personName:""},e.handleChange=function(t){var n=B()(t).format("DD-MM-YYYY");console.log(n),e.setState({date:n}),O.getAppointmentsForDate(e.state.date).then((function(t){var n=t.data;console.log(n),e.setState({appointments:n})}))},e}return Object(o.a)(n,[{key:"getFullNameById",value:function(e){var t=this;O.getClient(e).then((function(e){console.log(e.data.firstName+" "+e.data.lastName),t.state.personName=e.data.firstName+" "+e.data.lastName})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"center",children:Object(a.jsx)("table",{children:Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(z.a,{onChange:this.handleChange})}),Object(a.jsx)("td",{children:Object(a.jsx)("section",{children:this.state.appointments?this.state.appointments.map((function(t){return t?Object(a.jsx)("div",{onLoad:e.getFullNameById(t.personID),on:!0,children:Object(a.jsxs)("p",{className:"blackFont",children:["Scheduled meeting at ",t.time," with ",e.state.personName]})}):null})):Object(a.jsx)("p",{className:"blackFont",children:"There are no meetings scheduled for this day."})})})]})})})})})}}]),n}(l.Component)),W=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={clients:[]},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(D.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(Y,{}),Object(a.jsx)(H.a,{exact:!0,path:"/",component:A}),Object(a.jsx)(H.a,{exact:!0,path:"/clients",component:I}),Object(a.jsx)(H.a,{exact:!0,path:"/updateClient/:id",component:T}),Object(a.jsx)(H.a,{exact:!0,path:"/registerClient",component:A}),Object(a.jsx)(H.a,{exact:!0,path:"/uploadImage",component:M}),Object(a.jsx)(H.a,{exact:!0,path:"/createAppointment/:id",component:R}),Object(a.jsx)(H.a,{exact:!0,path:"/calendar",component:J})]})})})}}]),n}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(279);i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(W,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[280,1,2]]]);
//# sourceMappingURL=main.d6ed3e4c.chunk.js.map